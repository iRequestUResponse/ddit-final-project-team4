{"version":3,"sources":["webpack:///./src/components/common/chat/ChatPopup.vue?832e","webpack:///src/components/common/chat/ChatPopup.vue","webpack:///./src/components/common/chat/ChatPopup.vue?e340","webpack:///./src/components/common/chat/ChatPopup.vue","webpack:///./node_modules/vuetify/lib/components/VToolbar/index.js","webpack:///./node_modules/vuetify/lib/components/VSystemBar/VSystemBar.js","webpack:///./src/components/common/chat/ChatPopup.vue?17f7"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","stopPropagation","close","_v","_l","msg","key","seq","class","msgCol","isMe","_s","_f","sent","type","indexOf","_k","keyCode","ctrlKey","shiftKey","altKey","metaKey","sendMessage","model","value","callback","$$v","message","expression","staticRenderFns","props","data","computed","msgList","$store","state","chatMsgList","slice","sort","watch","setTimeout","chatMsgContainer","scrollTo","filters","regdate","methods","v","me","writer","event","target","classList","contains","leaveRoom","loaded","messageList","visible","component","VCard","VCol","VContainer","VContent","VFooter","VIcon","VRow","VSpacer","VSystemBar","VTextField","VToolbar","VToolbarTitle","createSimpleFunctional","VToolbarItems","mixins","Applicationable","Colorable","Themeable","extend","name","height","Number","String","lightsOut","Boolean","window","classes","absolute","app","fixed","themeClasses","computedHeight","isNaN","parseInt","styles","convertToUnit","updateApplication","$el","clientHeight","h","style","$listeners","setBackgroundColor","color","getSlot"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,YAAY,wBAAwBC,MAAM,CAAC,MAAQ,IAAIC,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOC,kBAAyBV,EAAIW,MAAMF,MAAW,CAACL,EAAG,SAAS,CAACE,YAAY,oBAAoBC,MAAM,CAAC,MAAQ,MAAM,OAAS,QAAQ,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,kBAAkB,KAAO,KAAK,CAACH,EAAG,YAAYA,EAAG,SAAS,CAACJ,EAAIY,GAAG,yBAAyBR,EAAG,SAAS,CAACJ,EAAIY,GAAG,yBAAyBR,EAAG,SAAS,CAACJ,EAAIY,GAAG,gBAAgB,GAAGR,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,SAAS,KAAO,KAAK,CAACH,EAAG,kBAAkB,CAACJ,EAAIY,GAAG,UAAU,GAAGR,EAAG,YAAY,CAACE,YAAY,cAAcC,MAAM,CAAC,GAAK,qBAAqBP,EAAIa,GAAIb,EAAW,SAAE,SAASc,GAAK,OAAOV,EAAG,QAAQ,CAACW,IAAID,EAAIE,KAAK,CAACZ,EAAG,QAAQ,CAACa,MAAM,CAAEC,QAAQ,EAAMC,KAAMnB,EAAImB,KAAKL,KAAQ,CAACV,EAAG,MAAM,CAACa,MAAM,CAAE,WAAW,EAAME,KAAMnB,EAAImB,KAAKL,KAAQ,CAACd,EAAIY,GAAG,qBAAqBZ,EAAIoB,GAAGN,EAAIA,KAAK,sBAAsBV,EAAG,MAAM,CAACE,YAAY,cAAc,CAACN,EAAIY,GAAG,qBAAqBZ,EAAIoB,GAAGpB,EAAIqB,GAAG,UAAPrB,CAAkBc,EAAIQ,OAAO,yBAAyB,MAAK,GAAGlB,EAAG,WAAW,CAACE,YAAY,iBAAiBC,MAAM,CAAC,SAAW,KAAK,CAACH,EAAG,QAAQ,CAACE,YAAY,YAAYC,MAAM,CAAC,KAAO,OAAO,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,OAAO,MAAQ,SAASC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOc,KAAKC,QAAQ,QAAQxB,EAAIyB,GAAGhB,EAAOiB,QAAQ,QAAQ,GAAGjB,EAAOM,IAAI,SAAkB,KAAUN,EAAOkB,SAASlB,EAAOmB,UAAUnB,EAAOoB,QAAQpB,EAAOqB,QAAiB,KAAc9B,EAAI+B,YAAYtB,KAAUuB,MAAM,CAACC,MAAOjC,EAAW,QAAEkC,SAAS,SAAUC,GAAMnC,EAAIoC,QAAQD,GAAKE,WAAW,cAAc,IAAI,IAAI,IAAI,IAC9lDC,EAAkB,G,oCC8EtB,G,UAAA,CACEC,MAAO,CAAC,WACRC,KAAM,WAAR,OACA,WACA,YAEEC,SAAU,CACRC,QADJ,WAEM,OAAOzC,KAAK0C,OAAOC,MAAMC,YAAYC,MAAM,GAAGC,MAAK,SAAzD,+BAGEC,MAAO,CACLN,QADJ,SACA,GACMO,YAAW,WACTC,iBAAiBC,SAAS,CAAlC,sCACA,MAGEC,QAAS,CACPC,QADJ,SACA,GACM,IAAN,cAEM,MAAO,GAAb,kDAGEC,QAAS,CACPnC,KADJ,SACA,GACM,OAAOoC,EAAEC,KAAOD,EAAEE,QAEpB,YAJJ,oEAIA,GAJA,8FAKA,sCALA,wDAOA,eACA,gBARA,SAUA,OACA,sEACA,cACA,MACA,SAdA,UAUA,EAVA,OAkBA,kCAlBA,wBAmBA,aAnBA,UAoBA,yEApBA,yBAqBA,wCArBA,0GAwBI9C,MAxBJ,SAwBA,GACU+C,EAAMC,OAAOC,UAAUC,SAAS,cAC1C,mCAEI,eA5BJ,oEA4BA,GA5BA,iGA6BA,OACA,2DACA,eA/BA,uHAkCIC,UAlCJ,SAkCA,GACM7D,KAAK8D,QAAS,EACd9D,KAAK+D,YAAc,GACnB/D,KAAKgE,SAAU,MC7IkZ,I,6LCQnaC,EAAY,eACd,EACAnE,EACAuC,GACA,EACA,KACA,WACA,MAIa,aAAA4B,EAAiB,QAgBhC,IAAkBA,EAAW,CAACC,QAAA,KAAMC,OAAA,KAAKC,aAAA,KAAWC,WAAA,KAASC,UAAA,KAAQC,QAAA,KAAMC,OAAA,KAAKC,UAAA,KAAQC,aAAA,KAAWC,aAAA,KAAWC,WAAA,KAASC,cAAA,U,oCCnCvH,8DAIMA,EAAgBC,eAAuB,oBACvCC,EAAgBD,eAAuB,oBAIzCF,Q,wxBCAWI,sBAAOC,eAAgB,MAAO,CAAC,SAAU,WAAYC,OAAWC,QAE7EC,OAAO,CACPC,KAAM,eACN/C,MAAO,CACLgD,OAAQ,CAACC,OAAQC,QACjBC,UAAWC,QACXC,OAAQD,SAEVlD,SAAU,CACRoD,QADQ,WAEN,UACE,2BAA4B5F,KAAKyF,UACjC,yBAA0BzF,KAAK6F,SAC/B,uBAAwB7F,KAAK6F,WAAa7F,KAAK8F,KAAO9F,KAAK+F,OAC3D,uBAAwB/F,KAAK2F,QAC1B3F,KAAKgG,eAIZC,eAXQ,WAYN,OAAIjG,KAAKsF,OACAY,MAAMC,SAASnG,KAAKsF,SAAWtF,KAAKsF,OAASa,SAASnG,KAAKsF,QAG7DtF,KAAK2F,OAAS,GAAK,IAG5BS,OAnBQ,WAoBN,MAAO,CACLd,OAAQe,eAAcrG,KAAKiG,mBAKjC5C,QAAS,CACPiD,kBADO,WAEL,OAAOtG,KAAKuG,IAAMvG,KAAKuG,IAAIC,aAAexG,KAAKiG,iBAKnDnG,OAxCO,SAwCA2G,GACL,IAAMlE,EAAO,CACXlC,YAAa,eACbW,MAAOhB,KAAK4F,QACZc,MAAO1G,KAAKoG,OACZ7F,GAAIP,KAAK2G,YAEX,OAAOF,EAAE,MAAOzG,KAAK4G,mBAAmB5G,KAAK6G,MAAOtE,GAAOuE,eAAQ9G,W,kCC1DvE,yBAA+jB,EAAG","file":"js/chunk-4577ba30.a2810ef6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"fill-height container\",attrs:{\"fluid\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.close($event)}}},[_c('v-card',{staticClass:\"juk-chattingflame\",attrs:{\"width\":\"400\",\"height\":\"700\"}},[_c('v-system-bar',{attrs:{\"color\":\"indigo darken-2\",\"dark\":\"\"}},[_c('v-spacer'),_c('v-icon',[_vm._v(\"mdi-window-minimize\")]),_c('v-icon',[_vm._v(\"mdi-window-maximize\")]),_c('v-icon',[_vm._v(\"mdi-close\")])],1),_c('v-toolbar',{attrs:{\"color\":\"indigo\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"채팅방\")])],1),_c('v-content',{staticClass:\"messagecont\",attrs:{\"id\":\"chatMsgContainer\"}},_vm._l((_vm.msgList),function(msg){return _c('v-row',{key:msg.seq},[_c('v-col',{class:{ msgCol: true, isMe: _vm.isMe(msg) }},[_c('div',{class:{ 'juk-msg': true, isMe: _vm.isMe(msg) }},[_vm._v(\"\\n                \"+_vm._s(msg.msg)+\"\\n              \")]),_c('div',{staticClass:\"juk-msgsub\"},[_vm._v(\"\\n                \"+_vm._s(_vm._f(\"regdate\")(msg.sent))+\"\\n              \")])])],1)}),1),_c('v-footer',{staticClass:\"ma-0 pa-0 px-4\",attrs:{\"absolute\":\"\"}},[_c('v-col',{staticClass:\"ma-0 pa-0\",attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"type\":\"text\",\"label\":\"입력하세요\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }return _vm.sendMessage($event)}},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-container\r\n      class=\"fill-height container\"\r\n      fluid\r\n      @click.stop=\"close\"\r\n    >\r\n      <!-- <v-row align=\"center\" justify=\"center\" @click.stop=\"close\">\r\n        <v-col cols=\"12\" sm=\"9\" md=\"6\" @click.stop=\"close\"> -->\r\n          <v-card\r\n            width=\"400\"\r\n            height=\"700\"\r\n            class=\"juk-chattingflame\"\r\n          >\r\n            <v-system-bar\r\n              color=\"indigo darken-2\"\r\n              dark\r\n            >\r\n              <v-spacer></v-spacer>\r\n    \r\n              <v-icon>mdi-window-minimize</v-icon>\r\n        \r\n              <v-icon>mdi-window-maximize</v-icon>\r\n        \r\n              <v-icon>mdi-close</v-icon>\r\n            </v-system-bar>\r\n            <v-toolbar\r\n              color=\"indigo\"\r\n              dark\r\n            >\r\n              <v-toolbar-title>채팅방</v-toolbar-title>\r\n            </v-toolbar>\r\n            <v-content class=\"messagecont\" id=\"chatMsgContainer\">\r\n              <v-row v-for=\"msg in msgList\" :key=\"msg.seq\">\r\n                <v-col :class=\"{ msgCol: true, isMe: isMe(msg) }\">\r\n                  <div :class=\"{ 'juk-msg': true, isMe: isMe(msg) }\">\r\n                    {{ msg.msg }}\r\n                  </div>\r\n                  <div class=\"juk-msgsub\">\r\n                    {{ msg.sent | regdate }}\r\n                  </div>\r\n                </v-col>\r\n              </v-row>\r\n            </v-content>\r\n            <v-footer\r\n              absolute\r\n              class=\"ma-0 pa-0 px-4\"\r\n            >\r\n              <v-col cols=\"12\" class=\"ma-0 pa-0\">\r\n                <v-text-field\r\n                  type=\"text\"\r\n                  v-model=\"message\"\r\n                  label=\"입력하세요\"\r\n                  @keyup.enter.exact=\"sendMessage\"\r\n                />\r\n              </v-col>\r\n            </v-footer>\r\n          </v-card>\r\n        <!-- </v-col>\r\n      </v-row> -->\r\n      <!-- <div class=\"box\">\r\n        <div class=\"messageList\">\r\n          <p v-for=\"msg in msgList\" :key=\"msg.seq\">\r\n            <span>{{ msg.msg }}</span>\r\n            / time: \r\n            <span>{{ msg.sent }}</span>\r\n          </p>\r\n        </div>\r\n        <div class=\"inputbox\">\r\n          <input\r\n            type=\"text\"\r\n            v-model=\"message\"\r\n            @keydown=\"sendMessage\"\r\n          />\r\n        </div>\r\n      </div> -->\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['agentid'],\r\n  data: () => ({\r\n    message: '',\r\n    loaded: false,\r\n  }),\r\n  computed: {\r\n    msgList() {\r\n      return this.$store.state.chatMsgList.slice(0).sort((a, b) => a.sent - b.sent);\r\n    }\r\n  },\r\n  watch: {\r\n    msgList(nv) {\r\n      setTimeout(function() {\r\n        chatMsgContainer.scrollTo({ top: chatMsgContainer.scrollHeight });\r\n      }, 10);\r\n    }\r\n  },\r\n  filters: {\r\n    regdate(value) {\r\n      let dt = new Date(value);\r\n\r\n      return `${dt.getHours()}:${dt.getMinutes()}`\r\n    },\r\n  },\r\n  methods: {\r\n    isMe(v) {\r\n      return v.me === v.writer;\r\n    },\r\n    async sendMessage(event) {\r\n      if (event.code !== 'Enter' || !this.message.trim()) return;\r\n\r\n      let msg = this.message;\r\n      this.message = '';\r\n\r\n      let result = await axios({\r\n        url: `${this.serverLocation}/chat/room/${this.agentid}`,\r\n        method: 'POST',\r\n        data: {\r\n          msg,\r\n        }\r\n      });\r\n\r\n      if (typeof result.data === 'object') {\r\n        let seq = result.data.seq;\r\n        await axios.patch(`${this.state.serverLocation}/chat/msg/${seq}`);\r\n        await this.$store.dispatch('refreshChatList');\r\n      }\r\n    },\r\n    close(event) {\r\n      if (event.target.classList.contains('container'))\r\n        this.$store.dispatch('chatClose');\r\n    },\r\n    async getPreviousMsg(agentid) {\r\n      let result = await axios({\r\n        url: `${this.serverLocation}/chat/room/${agentid}`,\r\n        method: 'GET',\r\n      });\r\n    },\r\n    leaveRoom(agentid) {\r\n      this.loaded = false;\r\n      this.messageList = [];\r\n      this.visible = false;\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  position: fixed;\r\n  z-index: 99;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n}\r\n\r\n.box {\r\n  background: #FFF;\r\n\r\n  width: 400px;\r\n  height: 700px;\r\n}\r\n\r\nheader {\r\n  cursor: move;\r\n  width: 100%;\r\n  height: 32px;\r\n}\r\n\r\n.messagecont {\r\n  height: 73%;\r\n  overflow-y: auto;\r\n  overflow-x: hidden;\r\n}\r\n\r\n.juk-chattingflame {\r\n  margin: auto;\r\n}\r\n\r\n.msgCol.isMe {\r\n  text-align: right;\r\n}\r\n\r\n.juk-msg {\r\n  display: inline-block;\r\n  text-align: left;\r\n  margin-left: 6px;\r\n}\r\n\r\n.juk-msg {\r\n  background: #727272;\r\n  color: #FFF;\r\n  padding: 0.25em 1em;\r\n  border-radius: 1em 1em 1em 0;\r\n}\r\n\r\n.juk-msg.isMe {\r\n  background: #4e7063;\r\n  color: #FFF;\r\n  padding: 0.25em 1em;\r\n  border-radius: 1em 1em 0 1em;\r\n}\r\n\r\n.juk-msgsub {\r\n  font-size: 9pt;\r\n  margin-left: 12px;\r\n}\r\n\r\n.bor {\r\n  border: 2px solid red;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatPopup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatPopup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatPopup.vue?vue&type=template&id=c5126712&scoped=true&\"\nimport script from \"./ChatPopup.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatPopup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatPopup.vue?vue&type=style&index=0&id=c5126712&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c5126712\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VContent } from 'vuetify/lib/components/VContent';\nimport { VFooter } from 'vuetify/lib/components/VFooter';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSystemBar } from 'vuetify/lib/components/VSystemBar';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VCard,VCol,VContainer,VContent,VFooter,VIcon,VRow,VSpacer,VSystemBar,VTextField,VToolbar,VToolbarTitle})\n","// Components\nimport VToolbar from './VToolbar'; // Utilities\n\nimport { createSimpleFunctional } from '../../util/helpers';\nconst VToolbarTitle = createSimpleFunctional('v-toolbar__title');\nconst VToolbarItems = createSimpleFunctional('v-toolbar__items');\nexport { VToolbar, VToolbarItems, VToolbarTitle };\nexport default {\n  $_vuetify_subcomponents: {\n    VToolbar,\n    VToolbarItems,\n    VToolbarTitle\n  }\n};\n//# sourceMappingURL=index.js.map","// Styles\nimport \"../../../src/components/VSystemBar/VSystemBar.sass\"; // Mixins\n\nimport Applicationable from '../../mixins/applicationable';\nimport Colorable from '../../mixins/colorable';\nimport Themeable from '../../mixins/themeable'; // Utilities\n\nimport mixins from '../../util/mixins';\nimport { convertToUnit, getSlot } from '../../util/helpers';\nexport default mixins(Applicationable('bar', ['height', 'window']), Colorable, Themeable\n/* @vue/component */\n).extend({\n  name: 'v-system-bar',\n  props: {\n    height: [Number, String],\n    lightsOut: Boolean,\n    window: Boolean\n  },\n  computed: {\n    classes() {\n      return {\n        'v-system-bar--lights-out': this.lightsOut,\n        'v-system-bar--absolute': this.absolute,\n        'v-system-bar--fixed': !this.absolute && (this.app || this.fixed),\n        'v-system-bar--window': this.window,\n        ...this.themeClasses\n      };\n    },\n\n    computedHeight() {\n      if (this.height) {\n        return isNaN(parseInt(this.height)) ? this.height : parseInt(this.height);\n      }\n\n      return this.window ? 32 : 24;\n    },\n\n    styles() {\n      return {\n        height: convertToUnit(this.computedHeight)\n      };\n    }\n\n  },\n  methods: {\n    updateApplication() {\n      return this.$el ? this.$el.clientHeight : this.computedHeight;\n    }\n\n  },\n\n  render(h) {\n    const data = {\n      staticClass: 'v-system-bar',\n      class: this.classes,\n      style: this.styles,\n      on: this.$listeners\n    };\n    return h('div', this.setBackgroundColor(this.color, data), getSlot(this));\n  }\n\n});\n//# sourceMappingURL=VSystemBar.js.map","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatPopup.vue?vue&type=style&index=0&id=c5126712&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatPopup.vue?vue&type=style&index=0&id=c5126712&scoped=true&lang=css&\""],"sourceRoot":""}